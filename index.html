
<html>
  <head>
    <script src="https://aframe.io/releases/1.7.1/aframe.min.js"></script>
  </head>
  <body>
    <a-scene>

      <!-- Lokale Textur -->
      <a-assets>
        <img id="earthTexture" src="https://cdn.jsdelivr.net/npm/three-globe/example/img/earth-day.jpg">
      </a-assets>

      <!-- Kamera + Cursor -->
      <a-camera position="0 1.6 0">
        <a-cursor
          position="0 0 -1"
          color="black"
          raycaster="objects: .clickable">
        </a-cursor>
      </a-camera>

      <!-- Licht -->
      <a-entity light="type: directional; intensity: 1" position="2 4 4"></a-entity>
      <a-entity light="type: ambient; intensity: 0.5"></a-entity>

      <!-- Weltkugel + Kontinente -->
      <a-entity id="rotating-group" position="0 0 -4">
        <a-sphere
          position="0 0 0"
          radius="1.25"
          segments-height="64"
          segments-width="64"
          src="#earthTexture">
        </a-sphere>

        <!-- Klickbare Flächen für Kontinente -->
        <a-plane id="eu" class="clickable"  color="red" width="1" height="1" position= "1.081 1.250 -0.290" rotation="-33.379 107.602 14.503" scale="0.902 0.674 1.542"></a-plane>
        <a-plane id="na" class="clickable"  color="blue" width="1" height="1" position="-0.096 0.635 1.627" rotation="-48.244 -19.423 -70.631" scale="1.571 1.000 1.000"></a-plane>
        <a-plane id="sa" class="clickable"  color="green" width="1" height="1" position="0.569 -0.446 1.297" rotation="9.853 23.025 1.356" scale="1.430 1.256 0.838 "></a-plane>
        <a-plane id="af" class="clickable"  color="yellow" width="1" height="1" position="1.324 -0.038 -0.519" rotation="-3.759 108.342 -162.440" scale="1.286 1.603 0.778"></a-plane>
        <a-plane id="as" class="clickable"  color="orange" width="1" height="1" position="0.148 0.996 -1.028" rotation="-40.098 -173.890 -8.517" scale="1.864 1.275 0.356"></a-plane>
        <a-plane id="au" class="clickable"  color="purple" width="1" height="1" position="-0.875 -0.570 -0.853" rotation="23.721 -144.175 23.589" scale="0.966 0.956 0.775"></a-plane>
        <a-plane id="an" class="clickable"  color="white" width="1" height="1" position="-0.009 -1.545 0.613" rotation="90.000 -0.308 -0.457" scale="1.025 -0.998 1.536"></a-plane>
      </a-entity>

      <a-sky color="#ECECEC"></a-sky>
    </a-scene>

    <script>
        function geoToCartesian(lat, lon, radius) {
          const phi = (90 - lat) * (Math.PI / 180);
          const theta = (lon + 180) * (Math.PI / 180);
          const x = -radius * Math.sin(phi) * Math.cos(theta);
          const y =  radius * Math.cos(phi);
          const z =  radius * Math.sin(phi) * Math.sin(theta);
          return {x, y, z};
        }
      
        window.addEventListener("DOMContentLoaded", () => {
          const scene = document.querySelector("a-scene");
      
          scene.addEventListener("loaded", function () {
            let rot = 0;
            const group = document.querySelector("#rotating-group");
      
            //✅ Sicherstellen, dass das Element existiert
            if (group) {
             setInterval(() => {
               group.setAttribute("rotation", `0 ${rot} 0`);
                rot += 1;
              }, 50);
            } else {
              console.warn("rotating-group wurde nicht gefunden!");
            }
            
      
            /** Kontinente setzen
            const radius = 1.25;
            const points = {
              eu:  {lat: 50.85, lon: 4.35},
              na:  {lat: 54.0, lon: -105.0},
              sa:  {lat: -15.6, lon: -57.6},
              af:  {lat: 1.3, lon: 17.3},
              as:  {lat: 34.0, lon: 100.0},
              au:  {lat: -25.0, lon: 133.0},
              an:  {lat: -82.8, lon: 135.0}
            };
            **/
      
              ["eu", "na", "sa", "af", "as", "au", "an"].forEach(id => {
                  const plane = document.querySelector("#" + id);
                  if (plane) {
                      plane.addEventListener("click", () => {
                          alert(id.toUpperCase() + " geklickt");
                      });
                  }
              });
          });
        });
      </script>
      
  </body>
</html>

  



  
